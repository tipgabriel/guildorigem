<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guild Origem - AdventureQuest Worlds</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- reCAPTCHA v2 com suas novas chaves -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'dark-base': '#171717',
                        'neon-green': '#39FF14',
                        'neon-green-hover': '#32E612',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #171717;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .neon-border {
            border: 2px solid #39FF14;
        }
        
        .neon-button {
            background-color: #39FF14;
            color: #171717;
            transition: all 0.3s ease;
        }
        
        .neon-button:hover {
            background-color: #32E612;
        }
        
        .member-card {
            background-color: #1f1f1f;
            transition: transform 0.3s ease;
        }
        
        .member-card:hover {
            transform: translateY(-5px);
        }
        
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
        }
        
        .progress-bar {
            background-color: #2a2a2a;
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            background-color: #39FF14;
            height: 100%;
            transition: width 0.5s ease;
        }
        
        .google-login {
            background-color: #4285F4;
            color: white;
            transition: all 0.3s ease;
        }
        
        .google-login:hover {
            background-color: #357ae8;
        }
        
        .user-panel {
            min-height: calc(100vh - 80px);
        }
        
        .hidden {
            display: none;
        }
        
        .g-recaptcha {
            margin: 15px 0;
            display: flex;
            justify-content: center;
        }

        /* Botão Google Atualizado */
.google-login {
    background: white;
    color: #757575;
    border: 1px solid #dadce0;
    border-radius: 4px;
    padding: 12px 16px;
    font-weight: 500;
    font-size: 14px;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    width: 100%;
}

.google-login:hover {
    background: #f8f9fa;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    border-color: #dadce0;
    transform: translateY(-1px);
}

.google-login:active {
    background: #f1f3f4;
    transform: translateY(0);
}

.google-icon {
    width: 18px;
    height: 18px;
}

/* reCAPTCHA Container */
.g-recaptcha {
    margin: 15px 0;
    display: flex;
    justify-content: center;
    min-height: 78px;
}

.g-recaptcha > div {
    margin: 0 auto;
}

/* Estilo para quando reCAPTCHA não carrega */
.recaptcha-fallback {
    background: #2a2a2a;
    border: 1px solid #444;
    border-radius: 4px;
    padding: 10px;
    text-align: center;
    color: #ccc;
    font-size: 12px;
}
    </style>
</head>
<body class="bg-dark-base min-h-screen">
    <!-- Cabeçalho -->
    <header class="sticky top-0 z-50 bg-dark-base border-b border-neon-green">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-dragon text-neon-green text-2xl"></i>
                <h1 class="text-2xl font-bold text-neon-green">Guild Origem</h1>
            </div>
            
            <div class="hidden md:flex space-x-6">
                <a href="#inicio" class="text-white hover:text-neon-green transition">Início</a>
                <a href="#membros" class="text-white hover:text-neon-green transition">Membros</a>
                <a href="#sobre" class="text-white hover:text-neon-green transition">Sobre</a>
                <a href="#eventos" class="text-white hover:text-neon-green transition">Eventos</a>
                <a href="#regras" class="text-white hover:text-neon-green transition">Regras</a>
            </div>
            
            <div class="flex items-center space-x-4">
                <button id="loginBtn" class="px-4 py-2 neon-button rounded font-bold">Entrar</button>
                <button id="logoutBtn" class="px-4 py-2 bg-gray-700 text-white rounded font-bold hidden">Sair</button>
                <button id="menuBtn" class="md:hidden text-white">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Conteúdo Principal -->
    <main id="mainContent">
        <!-- Banner Principal -->
        <section id="inicio" class="relative py-16 md:py-24 bg-gradient-to-r from-dark-base to-gray-900">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-4xl md:text-6xl font-bold mb-4 text-neon-green">Guild Origem</h2>
                <p class="text-xl md:text-2xl mb-8">Comunidade de AdventureQuest Worlds</p>
                
                <div class="max-w-2xl mx-auto bg-dark-base p-6 rounded-lg neon-border mb-8">
                    <h3 class="text-2xl font-bold mb-4 text-neon-green">Status da Guild</h3>
                    <div class="flex justify-between mb-2">
                        <span>Membros Ativos</span>
                        <span>58/140</span>
                    </div>
                    <div class="progress-bar mb-4">
                        <div class="progress-fill" style="width: 41.4%"></div>
                    </div>
                    <p class="text-sm text-gray-400">Precisamos de mais 82 membros para completar a guild!</p>
                </div>
                
                <button id="joinBtn" class="px-8 py-3 neon-button rounded-lg font-bold text-lg">Junte-se a Nós</button>
            </div>
        </section>

        <!-- Seção de Membros -->
        <section id="membros" class="py-16">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-12 text-neon-green">Nossos Membros</h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                    <!-- Card de Membro 1 -->
                    <div class="member-card rounded-lg p-4 neon-border">
                        <div class="flex items-center mb-4">
                            <div class="w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center mr-4">
                                <i class="fas fa-user text-neon-green text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg">Dragomir</h3>
                                <p class="text-sm text-gray-400">Líder</p>
                            </div>
                        </div>
                        <div class="text-sm">
                            <p class="mb-1"><i class="fas fa-shield-alt text-neon-green mr-2"></i> Nível 100</p>
                            <p class="mb-1"><i class="fas fa-medal text-neon-green mr-2"></i> Rank: Mestre</p>
                            <p><i class="fas fa-clock text-neon-green mr-2"></i> Online há 2h</p>
                        </div>
                    </div>
                    
                    <!-- Card de Membro 2 -->
                    <div class="member-card rounded-lg p-4 neon-border">
                        <div class="flex items-center mb-4">
                            <div class="w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center mr-4">
                                <i class="fas fa-user text-neon-green text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg">ShadowBlade</h3>
                                <p class="text-sm text-gray-400">Oficial</p>
                            </div>
                        </div>
                        <div class="text-sm">
                            <p class="mb-1"><i class="fas fa-shield-alt text-neon-green mr-2"></i> Nível 95</p>
                            <p class="mb-1"><i class="fas fa-medal text-neon-green mr-2"></i> Rank: Veterano</p>
                            <p><i class="fas fa-clock text-neon-green mr-2"></i> Online há 5h</p>
                        </div>
                    </div>
                    
                    <!-- Card de Membro 3 -->
                    <div class="member-card rounded-lg p-4 neon-border">
                        <div class="flex items-center mb-4">
                            <div class="w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center mr-4">
                                <i class="fas fa-user text-neon-green text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg">LunaStrike</h3>
                                <p class="text-sm text-gray-400">Membro</p>
                            </div>
                        </div>
                        <div class="text-sm">
                            <p class="mb-1"><i class="fas fa-shield-alt text-neon-green mr-2"></i> Nível 87</p>
                            <p class="mb-1"><i class="fas fa-medal text-neon-green mr-2"></i> Rank: Avançado</p>
                            <p><i class="fas fa-clock text-neon-green mr-2"></i> Online há 1h</p>
                        </div>
                    </div>
                    
                    <!-- Card de Membro 4 -->
                    <div class="member-card rounded-lg p-4 neon-border">
                        <div class="flex items-center mb-4">
                            <div class="w-16 h-16 rounded-full bg-gray-700 flex items-center justify-center mr-4">
                                <i class="fas fa-user text-neon-green text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-lg">IronFist</h3>
                                <p class="text-sm text-gray-400">Membro</p>
                            </div>
                        </div>
                        <div class="text-sm">
                            <p class="mb-1"><i class="fas fa-shield-alt text-neon-green mr-2"></i> Nível 92</p>
                            <p class="mb-1"><i class="fas fa-medal text-neon-green mr-2"></i> Rank: Veterano</p>
                            <p><i class="fas fa-clock text-neon-green mr-2"></i> Online há 3h</p>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-8">
                    <button class="px-6 py-2 bg-gray-800 text-white rounded hover:bg-gray-700 transition">Ver Todos os Membros</button>
                </div>
            </div>
        </section>

        <!-- Seção Sobre a Guild -->
        <section id="sobre" class="py-16 bg-gray-900">
            <div class="container mx-auto px-4">
                <div class="max-w-3xl mx-auto text-center">
                    <h2 class="text-3xl font-bold mb-6 text-neon-green">Sobre a Guild Origem</h2>
                    <p class="text-lg mb-6">
                        A Guild Origem é uma comunidade dedicada de jogadores de AdventureQuest Worlds, focada em criar um ambiente amigável e colaborativo para todos os membros. Nossa missão é crescer juntos, superar desafios épicos e construir amizades duradouras no mundo de Lore.
                    </p>
                    <p class="text-lg mb-8">
                        Com 58 membros ativos de um total de 140, estamos sempre em busca de novos aventureiros para se juntar à nossa família. Oferecemos eventos semanais, ajuda com quests difíceis e um sistema de ranking que recompensa a atividade e contribuição.
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-10">
                        <div class="bg-dark-base p-6 rounded-lg neon-border">
                            <i class="fas fa-users text-neon-green text-3xl mb-4"></i>
                            <h3 class="text-xl font-bold mb-2">Comunidade Ativa</h3>
                            <p>Eventos semanais e chat sempre movimentado</p>
                        </div>
                        
                        <div class="bg-dark-base p-6 rounded-lg neon-border">
                            <i class="fas fa-trophy text-neon-green text-3xl mb-4"></i>
                            <h3 class="text-xl font-bold mb-2">Sistema de Ranking</h3>
                            <p>Progressão baseada em atividade e contribuição</p>
                        </div>
                        
                        <div class="bg-dark-base p-6 rounded-lg neon-border">
                            <i class="fas fa-shield-alt text-neon-green text-3xl mb-4"></i>
                            <h3 class="text-xl font-bold mb-2">Ajuda em Quests</h3>
                            <p>Suporte para quests difíceis e bosses desafiadores</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Seção de Eventos -->
        <section id="eventos" class="py-16">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-12 text-neon-green">Próximos Eventos</h2>
                
                <div class="max-w-2xl mx-auto bg-dark-base p-6 rounded-lg neon-border">
                    <div class="mb-6">
                        <h3 class="text-xl font-bold mb-2 text-neon-green">Batalha contra o Dragão Épico</h3>
                        <p class="text-gray-400 mb-2">Sábado, 15:00 (Horário do Servidor)</p>
                        <p>Junte-se a nós para uma batalha épica contra o temível dragão que ameaça as terras de Lore. Recompensas especiais para todos os participantes!</p>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-bold mb-2 text-neon-green">Torneio PvP da Guild</h3>
                        <p class="text-gray-400 mb-2">Domingo, 18:00 (Horário do Servidor)</p>
                        <p>Mostre suas habilidades de combate no torneio PvP da guild. Prêmios em moedas de ouro e itens raros para os vencedores.</p>
                    </div>
                    
                    <div>
                        <h3 class="text-xl font-bold mb-2 text-neon-green">Sessão de Treinamento para Novatos</h3>
                        <p class="text-gray-400 mb-2">Quarta-feira, 20:00 (Horário do Servidor)</p>
                        <p>Novos membros são especialmente convidados para esta sessão de treinamento onde aprenderão estratégias avançadas e dicas de jogo.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Seção de Regras -->
        <section id="regras" class="py-16 bg-gray-900">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-12 text-neon-green">Regras da Guild</h2>
                
                <div class="max-w-3xl mx-auto bg-dark-base p-6 rounded-lg neon-border">
                    <ol class="list-decimal pl-5 space-y-4">
                        <li class="pb-2 border-b border-gray-700">Respeite todos os membros da guild e da comunidade de AQW.</li>
                        <li class="pb-2 border-b border-gray-700">Não utilize linguagem ofensiva, discriminatória ou tóxica.</li>
                        <li class="pb-2 border-b border-gray-700">Participe ativamente dos eventos da guild sempre que possível.</li>
                        <li class="pb-2 border-b border-gray-700">Ajude outros membros quando solicitado, especialmente os novatos.</li>
                        <li class="pb-2 border-b border-gray-700">Não divulgue informações privadas da guild para jogadores externos.</li>
                        <li class="pb-2 border-b border-gray-700">Mantenha-se ativo - inatividade prolongada pode resultar em remoção.</li>
                        <li class="pb-2">Siga as regras oficiais do AdventureQuest Worlds em todos os momentos.</li>
                    </ol>
                </div>
            </div>
        </section>
    </main>

    <!-- Painel do Usuário (Inicialmente Oculto) -->
    <section id="userPanel" class="user-panel py-16 hidden">
        <div class="container mx-auto px-4">
            <div class="max-w-4xl mx-auto">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-neon-green">Painel do Membro</h2>
                    <button id="backToMain" class="px-4 py-2 bg-gray-700 text-white rounded font-bold">
                        <i class="fas fa-arrow-left mr-2"></i> Voltar ao Site
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <!-- Informações do Usuário -->
                    <div class="bg-dark-base p-6 rounded-lg neon-border md:col-span-2">
                        <h3 class="text-xl font-bold mb-4 text-neon-green">Informações do Perfil</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <p class="text-gray-400">Nome de Usuário</p>
                                <p id="userUsername" class="text-lg font-bold">-</p>
                            </div>
                            <div>
                                <p class="text-gray-400">E-mail</p>
                                <p id="userEmail" class="text-lg">-</p>
                            </div>
                            <div>
                                <p class="text-gray-400">Personagem Principal</p>
                                <p id="userCharacter" class="text-lg">-</p>
                            </div>
                            <div>
                                <p class="text-gray-400">Nível</p>
                                <p id="userLevel" class="text-lg">-</p>
                            </div>
                            <div>
                                <p class="text-gray-400">Rank na Guild</p>
                                <p id="userRank" class="text-lg">-</p>
                            </div>
                            <div>
                                <p class="text-gray-400">Data de Entrada</p>
                                <p id="userJoinDate" class="text-lg">-</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Status na Guild -->
                    <div class="bg-dark-base p-6 rounded-lg neon-border">
                        <h3 class="text-xl font-bold mb-4 text-neon-green">Status na Guild</h3>
                        <div class="space-y-4">
                            <div>
                                <p class="text-gray-400">Participação em Eventos</p>
                                <div class="progress-bar mt-1">
                                    <div id="eventProgress" class="progress-fill" style="width: 65%"></div>
                                </div>
                                <p class="text-sm text-gray-400 mt-1">13/20 eventos este mês</p>
                            </div>
                            <div>
                                <p class="text-gray-400">Contribuição</p>
                                <div class="progress-bar mt-1">
                                    <div id="contributionProgress" class="progress-fill" style="width: 40%"></div>
                                </div>
                                <p class="text-sm text-gray-400 mt-1">Médio</p>
                            </div>
                            <div>
                                <p class="text-gray-400">Atividade</p>
                                <div class="progress-bar mt-1">
                                    <div id="activityProgress" class="progress-fill" style="width: 80%"></div>
                                </div>
                                <p class="text-sm text-gray-400 mt-1">Alta</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Próximos Eventos do Usuário -->
                <div class="bg-dark-base p-6 rounded-lg neon-border mb-8">
                    <h3 class="text-xl font-bold mb-4 text-neon-green">Meus Próximos Eventos</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center p-3 bg-gray-800 rounded">
                            <div>
                                <h4 class="font-bold">Batalha contra o Dragão Épico</h4>
                                <p class="text-sm text-gray-400">Sábado, 15:00</p>
                            </div>
                            <span class="px-3 py-1 bg-neon-green text-dark-base rounded-full text-sm font-bold">Inscrito</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-800 rounded">
                            <div>
                                <h4 class="font-bold">Torneio PvP da Guild</h4>
                                <p class="text-sm text-gray-400">Domingo, 18:00</p>
                            </div>
                            <span class="px-3 py-1 bg-neon-green text-dark-base rounded-full text-sm font-bold">Inscrito</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-800 rounded">
                            <div>
                                <h4 class="font-bold">Sessão de Treinamento</h4>
                                <p class="text-sm text-gray-400">Quarta-feira, 20:00</p>
                            </div>
                            <span class="px-3 py-1 bg-gray-600 text-white rounded-full text-sm font-bold">Não Inscrito</span>
                        </div>
                    </div>
                </div>
                
                <!-- Configurações do Usuário -->
                <div class="bg-dark-base p-6 rounded-lg neon-border">
                    <h3 class="text-xl font-bold mb-4 text-neon-green">Configurações da Conta</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <button id="editProfile" class="px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition">
                            <i class="fas fa-user-edit mr-2"></i> Editar Perfil
                        </button>
                        <button id="changePassword" class="px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition">
                            <i class="fas fa-key mr-2"></i> Alterar Senha
                        </button>
                        <button id="notificationSettings" class="px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition">
                            <i class="fas fa-bell mr-2"></i> Notificações
                        </button>
                        <button id="privacySettings" class="px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition">
                            <i class="fas fa-shield-alt mr-2"></i> Privacidade
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Rodapé -->
    <footer class="py-8 border-t border-gray-800">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-dragon text-neon-green text-2xl"></i>
                        <h2 class="text-xl font-bold text-neon-green">Guild Origem</h2>
                    </div>
                    <p class="text-sm text-gray-400 mt-2">Comunidade de AdventureQuest Worlds</p>
                </div>
                
                <div class="flex space-x-4">
                    <a href="#" class="text-gray-400 hover:text-neon-green transition">
                        <i class="fab fa-discord text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-neon-green transition">
                        <i class="fab fa-twitter text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-neon-green transition">
                        <i class="fab fa-youtube text-xl"></i>
                    </a>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-6 pt-6 text-center text-gray-400 text-sm">
                <p id="copyright">&copy; 2023 Guild Origem. Todos os direitos reservados. AdventureQuest Worlds é uma marca registrada da Artix Entertainment.</p>
            </div>
        </div>
    </footer>

    <!-- Modal de Login -->
    <div id="loginModal" class="fixed inset-0 z-50 flex items-center justify-center modal-overlay hidden">
        <div class="bg-dark-base rounded-lg p-8 w-full max-w-md neon-border relative">
            <button id="closeLoginModal" class="absolute top-4 right-4 text-gray-400 hover:text-white">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <h2 class="text-2xl font-bold mb-6 text-center text-neon-green">Entrar na Guild</h2>
            
            <form id="loginForm" class="space-y-4">
                <div>
                    <label for="loginUsername" class="block mb-2">Nome de Usuário</label>
                    <input type="text" id="loginUsername" class="w-full p-3 bg-gray-800 rounded border border-gray-700 focus:border-neon-green focus:outline-none" required>
                </div>
                
                <div>
                    <label for="loginPassword" class="block mb-2">Senha</label>
                    <input type="password" id="loginPassword" class="w-full p-3 bg-gray-800 rounded border border-gray-700 focus:border-neon-green focus:outline-none" required>
                </div>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <input type="checkbox" id="rememberMe" class="mr-2">
                        <label for="rememberMe">Lembrar-me</label>
                    </div>
                    
                    <a href="#" class="text-neon-green hover:underline">Esqueceu a senha?</a>
                </div>
                
                <!-- reCAPTCHA para login com NOVA CHAVE -->
                <div class="g-recaptcha" data-sitekey="6LdsFfErAAAAAJy92t4bdhfabf5WPPE5qoXDCiWu"></div>
                <div id="loginCaptchaError" class="text-red-500 text-sm mt-2 hidden">Por favor, complete o reCAPTCHA</div>
                
                <button type="submit" class="w-full py-3 neon-button rounded font-bold mt-4">Entrar</button>
                
                <div class="relative my-4">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-700"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-2 bg-dark-base text-gray-400">Ou entre com</span>
                    </div>
                </div>
                
<button type="button" id="googleLogin" class="google-login">
    <svg class="google-icon" viewBox="0 0 24 24" width="18" height="18">
        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
    </svg>
    Entrar com Google
</button>
            </form>
            
            <div class="mt-6 text-center">
                <p class="text-gray-400">Não tem uma conta? <button id="showRegister" class="text-neon-green hover:underline">Registre-se</button></p>
            </div>
        </div>
    </div>

    <!-- Modal de Registro -->
    <div id="registerModal" class="fixed inset-0 z-50 flex items-center justify-center modal-overlay hidden">
        <div class="bg-dark-base rounded-lg p-8 w-full max-w-md neon-border relative">
            <button id="closeRegisterModal" class="absolute top-4 right-4 text-gray-400 hover:text-white">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <h2 class="text-2xl font-bold mb-6 text-center text-neon-green">Junte-se à Guild</h2>
            
            <form id="registerForm" class="space-y-4">
                <div>
                    <label for="registerUsername" class="block mb-2">Nome do personagem</label>
                    <input type="text" id="registerUsername" class="w-full p-3 bg-gray-800 rounded border border-gray-700 focus:border-neon-green focus:outline-none" required>
                </div>
                
                <div>
                    <label for="registerEmail" class="block mb-2">E-mail</label>
                    <input type="email" id="registerEmail" placeholder="Qual seu melhor email?" class="w-full p-3 bg-gray-800 rounded border border-gray-700 focus:border-neon-green focus:outline-none" required>
                </div>
                
                <div>
                    <label for="registerPassword" class="block mb-2">Senha</label>
                    <input type="password" id="registerPassword" placeholder="Crie sua senha" class="w-full p-3 bg-gray-800 rounded border border-gray-700 focus:border-neon-green focus:outline-none" required>
                </div>
                
                <div>
                    <label for="registerConfirmPassword" class="block mb-2">Confirmar Senha</label>
                    <input type="password" id="registerConfirmPassword" placeholder="Confirme sua senha" class="w-full p-3 bg-gray-800 rounded border border-gray-700 focus:border-neon-green focus:outline-none" required>
                </div>

                
                <div>
                    <label for="registerLevel" class="block mb-2">Nível</label>
                    <input type="number" id="registerLevel" placeholder="Digite seu nível no jogo" class="w-full p-3 bg-gray-800 rounded border border-gray-700 focus:border-neon-green focus:outline-none" min="1" max="100" required>
                </div>
                
                <div class="flex items-center">
                    <input type="checkbox" id="acceptRules" class="mr-2" required>
                    <label for="acceptRules">Eu li e aceito as <a href="#regras" class="text-neon-green hover:underline">regras da guild</a></label>
                </div>
                
                <!-- reCAPTCHA para registro com NOVA CHAVE -->
                <div class="g-recaptcha" data-sitekey="6LdsFfErAAAAAJy92t4bdhfabf5WPPE5qoXDCiWu"></div>
                <div id="registerCaptchaError" class="text-red-500 text-sm mt-2 hidden">Por favor, complete o reCAPTCHA</div>
                
                <button type="submit" class="w-full py-3 neon-button rounded font-bold mt-4">Registrar</button>
            </form>
            
            <div class="mt-6 text-center">
                <p class="text-gray-400">Já tem uma conta? <button id="showLogin" class="text-neon-green hover:underline">Faça login</button></p>
            </div>
        </div>
    </div>

<!-- Firebase SDK - MESMO BANCO tipgabrieldev -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
  import { 
    getAuth, 
    createUserWithEmailAndPassword, 
    signInWithEmailAndPassword, 
    onAuthStateChanged, 
    GoogleAuthProvider, 
    signInWithPopup, 
    signOut,
    updateProfile 
  } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-auth.js";
  import { 
    getFirestore, 
    collection, 
    addDoc, 
    getDocs, 
    query, 
    where,
    doc,
    setDoc 
  } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-firestore.js";

  // MESMO Firebase Config do tipgabrieldev
  const firebaseConfig = {
    apiKey: "AIzaSyA3_9b12m998SElovquIpmJASDnF8G6bE8",
    authDomain: "tipgabrieldev-cf200.firebaseapp.com",
    projectId: "tipgabrieldev-cf200",
    storageBucket: "tipgabrieldev-cf200.firebasestorage.app",
    messagingSenderId: "110047072655",
    appId: "1:110047072655:web:cce5ff2c319d7cab087bfa"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);
  const googleProvider = new GoogleAuthProvider();

  console.log("✅ Firebase Guild Origem inicializado!");

  // Funções de autenticação para Guild Origem
  window.registerUser = async (email, password, username, level) => {
    try {
      console.log("📝 Tentando registrar usuário Guild Origem:", email, username);
      
      const userCredential = await createUserWithEmailAndPassword(auth, email, password);
      const user = userCredential.user;
      
      // Atualizar perfil do usuário
      await updateProfile(user, {
        displayName: username
      });
      
      // Salvar informações na coleção guild_origem_users
      await setDoc(doc(db, "guild_origem_users", user.uid), {
        uid: user.uid,
        username: username,
        email: email,
        character: username,
        level: parseInt(level),
        joinDate: new Date(),
        rank: "Novato",
        guild: "Guild Origem",
        site: "guild_origem",
        timestamp: new Date()
      });
      
      console.log("✅ Usuário Guild Origem registrado:", user.uid);
      alert("🎉 Conta criada com sucesso! Bem-vindo à Guild Origem!");
      return user;
    } catch (error) {
      console.error("❌ Erro no registro Guild Origem:", error);
      let errorMessage = "Erro ao criar conta: ";
      
      switch(error.code) {
        case 'auth/email-already-in-use':
          errorMessage += "Este email já está em uso.";
          break;
        case 'auth/weak-password':
          errorMessage += "A senha é muito fraca. Use pelo menos 6 caracteres.";
          break;
        case 'auth/invalid-email':
          errorMessage += "O email informado é inválido.";
          break;
        default:
          errorMessage += error.message;
      }
      
      alert(errorMessage);
      throw error;
    }
  };

  window.loginUser = async (email, password) => {
    try {
      console.log("🔐 Tentando login Guild Origem:", email);
      
      const userCredential = await signInWithEmailAndPassword(auth, email, password);
      const user = userCredential.user;
      
      console.log("✅ Login Guild Origem realizado:", user.uid);
      alert("✅ Login realizado com sucesso!");
      return user;
    } catch (error) {
      console.error("❌ Erro no login Guild Origem:", error);
      let errorMessage = "Erro ao fazer login: ";
      
      switch(error.code) {
        case 'auth/user-not-found':
          errorMessage += "Usuário não encontrado.";
          break;
        case 'auth/wrong-password':
          errorMessage += "Senha incorreta.";
          break;
        case 'auth/invalid-email':
          errorMessage += "Email inválido.";
          break;
        default:
          errorMessage += error.message;
      }
      
      alert(errorMessage);
      throw error;
    }
  };

  window.loginWithGoogle = async () => {
    try {
      console.log("🔐 Tentando login com Google - Guild Origem");
      
      const result = await signInWithPopup(auth, googleProvider);
      const user = result.user;
      
      // Verificar se o usuário já existe no Firestore
      const userDoc = await getDocs(query(collection(db, "guild_origem_users"), where("uid", "==", user.uid)));
      
      // Se não existe, criar registro
      if (userDoc.empty) {
        await setDoc(doc(db, "guild_origem_users", user.uid), {
          uid: user.uid,
          username: user.displayName || user.email.split('@')[0],
          email: user.email,
          character: user.displayName || "A definir",
          level: 1,
          joinDate: new Date(),
          rank: "Novato",
          guild: "Guild Origem",
          site: "guild_origem",
          provider: "google",
          timestamp: new Date()
        });
        console.log("✅ Novo usuário Google Guild Origem criado:", user.uid);
      }
      
      console.log("✅ Login Google Guild Origem realizado:", user.uid);
      alert("✅ Login com Google realizado com sucesso!");
      return user;
    } catch (error) {
      console.error("❌ Erro no login com Google:", error);
      
      let errorMessage = "Erro ao fazer login com Google: ";
      if (error.code === 'auth/popup-closed-by-user') {
        errorMessage = "Login com Google cancelado.";
      } else {
        errorMessage += error.message;
      }
      
      alert(errorMessage);
      throw error;
    }
  };

  // Verificar estado de autenticação
  onAuthStateChanged(auth, async (user) => {
    if (user) {
      console.log("👤 Usuário Guild Origem logado:", user.email);
      document.getElementById('loginBtn').classList.add('hidden');
      document.getElementById('logoutBtn').classList.remove('hidden');
      
      try {
        // Carregar informações do usuário da coleção guild_origem_users
        const userDoc = await getDocs(query(collection(db, "guild_origem_users"), where("uid", "==", user.uid)));
        if (!userDoc.empty) {
          const userData = userDoc.docs[0].data();
          console.log("📊 Dados do usuário Guild Origem:", userData);
          
          // Preencher painel do usuário
          document.getElementById('userUsername').textContent = userData.username || user.displayName || "Não definido";
          document.getElementById('userEmail').textContent = userData.email || user.email;
          document.getElementById('userCharacter').textContent = userData.character || "A definir";
          document.getElementById('userLevel').textContent = userData.level || 1;
          document.getElementById('userRank').textContent = userData.rank || "Novato";
          
          if (userData.joinDate) {
            const joinDate = userData.joinDate.toDate ? userData.joinDate.toDate() : new Date(userData.joinDate);
            document.getElementById('userJoinDate').textContent = joinDate.toLocaleDateString('pt-BR');
          } else {
            document.getElementById('userJoinDate').textContent = new Date().toLocaleDateString('pt-BR');
          }
          
          // Mostrar painel do usuário
          document.getElementById('mainContent').classList.add('hidden');
          document.getElementById('userPanel').classList.remove('hidden');
        } else {
          console.log("⚠️ Usuário logado mas não encontrado na coleção guild_origem_users");
        }
      } catch (error) {
        console.error("❌ Erro ao carregar dados do usuário Guild Origem:", error);
      }
    } else {
      console.log("🚪 Usuário Guild Origem não logado");
      document.getElementById('loginBtn').classList.remove('hidden');
      document.getElementById('logoutBtn').classList.add('hidden');
    }
  });

  // Função de logout
  window.logoutUser = async () => {
    try {
      await signOut(auth);
      console.log("✅ Logout Guild Origem realizado");
      alert("👋 Logout realizado com sucesso!");
      document.getElementById('mainContent').classList.remove('hidden');
      document.getElementById('userPanel').classList.add('hidden');
    } catch (error) {
      console.error("❌ Erro no logout Guild Origem:", error);
      alert("❌ Erro ao fazer logout: " + error.message);
    }
  };
</script>

<!-- JavaScript para funcionalidades da interface -->
<script>
  // Elementos DOM
  const loginBtn = document.getElementById('loginBtn');
  const logoutBtn = document.getElementById('logoutBtn');
  const joinBtn = document.getElementById('joinBtn');
  const loginModal = document.getElementById('loginModal');
  const registerModal = document.getElementById('registerModal');
  const closeLoginModalBtn = document.getElementById('closeLoginModal');
  const closeRegisterModalBtn = document.getElementById('closeRegisterModal');
  const showRegister = document.getElementById('showRegister');
  const showLogin = document.getElementById('showLogin');
  const loginForm = document.getElementById('loginForm');
  const registerForm = document.getElementById('registerForm');
  const googleLoginBtn = document.getElementById('googleLogin');
  const mainContent = document.getElementById('mainContent');
  const userPanel = document.getElementById('userPanel');
  const backToMainBtn = document.getElementById('backToMain');
  const registerLevelInput = document.getElementById('registerLevel');

  // Variável global para controle do reCAPTCHA
  let recaptchaLoaded = false;

  // Função chamada quando reCAPTCHA carrega
  window.onRecaptchaLoad = function() {
    console.log("✅ reCAPTCHA carregado com sucesso!");
    recaptchaLoaded = true;
    
    // Renderizar reCAPTCHA nos containers
    if (typeof grecaptcha !== 'undefined') {
      // Render para login
      const loginCaptchaContainer = document.querySelector('#loginForm .g-recaptcha');
      if (loginCaptchaContainer) {
        grecaptcha.render(loginCaptchaContainer, {
          sitekey: '6LdsFfErAAAAAJy92t4bdhfabf5WPPE5qoXDCiWu',
          theme: 'dark'
        });
      }
      
      // Render para registro
      const registerCaptchaContainer = document.querySelector('#registerForm .g-recaptcha');
      if (registerCaptchaContainer) {
        grecaptcha.render(registerCaptchaContainer, {
          sitekey: '6LdsFfErAAAAAJy92t4bdhfabf5WPPE5qoXDCiWu',
          theme: 'dark'
        });
      }
    }
  };

  // Verificar se reCAPTCHA carregou após um tempo
  setTimeout(() => {
    if (!recaptchaLoaded && typeof grecaptcha !== 'undefined') {
      window.onRecaptchaLoad();
    }
  }, 2000);

  // Funções para fechar modais
  function closeLoginModal() {
    loginModal.classList.add('hidden');
    loginForm.reset();
    // Resetar reCAPTCHA se estiver disponível
    if (typeof grecaptcha !== 'undefined') {
      grecaptcha.reset();
    }
    document.getElementById('loginCaptchaError').classList.add('hidden');
  }

  function closeRegisterModal() {
    registerModal.classList.add('hidden');
    registerForm.reset();
    // Resetar reCAPTCHA se estiver disponível
    if (typeof grecaptcha !== 'undefined') {
      grecaptcha.reset();
    }
    document.getElementById('registerCaptchaError').classList.add('hidden');
  }

  // Abrir modal de login
  loginBtn.addEventListener('click', () => {
    loginModal.classList.remove('hidden');
  });

  // Logout
  logoutBtn.addEventListener('click', () => {
    if (typeof window.logoutUser === 'function') {
      window.logoutUser();
    }
  });

  // Abrir modal de registro a partir do botão "Junte-se a Nós"
  joinBtn.addEventListener('click', () => {
    registerModal.classList.remove('hidden');
  });

  // Fechar modais
  closeLoginModalBtn.addEventListener('click', closeLoginModal);
  closeRegisterModalBtn.addEventListener('click', closeRegisterModal);

  // Alternar entre login e registro
  showRegister.addEventListener('click', () => {
    closeLoginModal();
    registerModal.classList.remove('hidden');
  });

  showLogin.addEventListener('click', () => {
    closeRegisterModal();
    loginModal.classList.remove('hidden');
  });

  // Fechar modais ao clicar fora
  window.addEventListener('click', (e) => {
    if (e.target === loginModal) {
      closeLoginModal();
    }
    if (e.target === registerModal) {
      closeRegisterModal();
    }
  });

  // Processar formulário de login
  loginForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('loginUsername').value;
    const password = document.getElementById('loginPassword').value;
    
    console.log("📤 Tentando fazer login:", email);
    
    // Verificar reCAPTCHA
    let recaptchaValid = true;
    if (recaptchaLoaded && typeof grecaptcha !== 'undefined') {
      const recaptchaResponse = grecaptcha.getResponse();
      console.log("🔍 reCAPTCHA response:", recaptchaResponse);
      if (!recaptchaResponse) {
        document.getElementById('loginCaptchaError').classList.remove('hidden');
        recaptchaValid = false;
      } else {
        document.getElementById('loginCaptchaError').classList.add('hidden');
      }
    } else {
      console.log("⚠️ reCAPTCHA não carregou, pulando verificação");
    }
    
    if (!recaptchaValid) return;
    
    try {
      const user = await window.loginUser(email, password);
      if (user) {
        closeLoginModal();
      }
    } catch (error) {
      console.error("Erro no login:", error);
    }
  });

  // Processar formulário de registro
  registerForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('registerEmail').value;
    const password = document.getElementById('registerPassword').value;
    const username = document.getElementById('registerUsername').value;
    const level = document.getElementById('registerLevel').value;
    const confirmPassword = document.getElementById('registerConfirmPassword').value;
    
    console.log("📤 Tentando registrar:", username, email, level);
    
    // Verificar reCAPTCHA
    let recaptchaValid = true;
    if (recaptchaLoaded && typeof grecaptcha !== 'undefined') {
      const recaptchaResponse = grecaptcha.getResponse();
      console.log("🔍 reCAPTCHA response:", recaptchaResponse);
      if (!recaptchaResponse) {
        document.getElementById('registerCaptchaError').classList.remove('hidden');
        recaptchaValid = false;
      } else {
        document.getElementById('registerCaptchaError').classList.add('hidden');
      }
    } else {
      console.log("⚠️ reCAPTCHA não carregou, pulando verificação");
    }
    
    if (!recaptchaValid) return;
    
    // Verificar se as senhas coincidem
    if (password !== confirmPassword) {
      alert('❌ As senhas não coincidem!');
      return;
    }
    
    // Verificar se aceitou as regras
    if (!document.getElementById('acceptRules').checked) {
      alert('❌ Você precisa aceitar as regras da guild!');
      return;
    }
    
    try {
      const user = await window.registerUser(email, password, username, level);
      if (user) {
        closeRegisterModal();
      }
    } catch (error) {
      console.error("Erro no registro:", error);
    }
  });

  // Login com Google - BOTÃO ATUALIZADO
  googleLoginBtn.addEventListener('click', async () => {
    console.log("🔐 Clicou no botão Google Login");
    
    try {
      const user = await window.loginWithGoogle();
      if (user) {
        closeLoginModal();
      }
    } catch (error) {
      console.error("Erro no login com Google:", error);
    }
  });

  // Voltar ao site principal
  backToMainBtn.addEventListener('click', () => {
    userPanel.classList.add('hidden');
    mainContent.classList.remove('hidden');
  });

  // Limitar campo de nível
  if (registerLevelInput) {
    registerLevelInput.addEventListener('input', (e) => {
      e.target.value = e.target.value.replace(/\D/g, '');
      if (e.target.value.length > 3) {
        e.target.value = e.target.value.slice(0, 3);
      }
      const value = parseInt(e.target.value);
      if (value < 1) {
        e.target.value = 1;
      } else if (value > 100) {
        e.target.value = 100;
      }
    });
  }

  // Atualizar automaticamente o ano do copyright
  document.addEventListener('DOMContentLoaded', () => {
    const copyrightElement = document.getElementById('copyright');
    const currentYear = new Date().getFullYear();
    copyrightElement.textContent = copyrightElement.textContent.replace('2023', currentYear);
    
    // Suavizar rolagem para âncoras
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        if (targetId === '#') return;
        
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 80,
            behavior: 'smooth'
          });
        }
      });
    });
    
    console.log("✅ Guild Origem carregado!");
  });
</script>
</body>
</html>
